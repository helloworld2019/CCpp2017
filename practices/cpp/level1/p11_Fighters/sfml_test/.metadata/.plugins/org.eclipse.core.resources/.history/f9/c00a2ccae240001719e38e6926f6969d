/*
 * bullet.h
 *
 *  Created on: 2017年5月18日
 *      Author: mark
 */

#ifndef BULLET_H_
#define BULLET_H_
#include <SFML/Graphics.hpp>
class bullet
{
public:
	bullet(char a){
		sf::Mutex mutex ;
		mutex.lock();
		texture.loadFromFile("bullet.png");
		sprite.setTexture(texture);
		sprite.scale(1,1);
		sprite.setRotation(180);
		b = 1 ;
		mutex.unlock();
	}
	bullet(int a){
		sf::Mutex mutex ;
		mutex.lock();
		texture.loadFromFile("bullet.png");
		sprite.setTexture(texture);
		sprite.scale(1,1);
//		sprite.setRotation(-45);
		b = 0 ;
		mutex.unlock();
	}

	bullet(const bullet &A){
		b = A.b;
		sprite = A.sprite;
		texture = A.texture ;
	}

	int fly1(){
		sf::Mutex mutex ;
		if(sprite.getPosition().y<1000){
			mutex.lock();
			sprite.move(0,-1);
			mutex.unlock();
			return 1 ;
		}
		else return 0;
	}
	int fly2(){
		sf::Mutex mutex;
		if(sprite.getPosition().y>0){
			mutex.lock();
			sprite.move(0,1);
			mutex.unlock();
			return 1 ;
		}
		else return 0;
	}

	int getb(){
		return b ;
	}
	void set(int x , int y){
			sprite.setPosition(x,y);
	}

	sf::Sprite &getsprite(){
		return sprite;
	}

	void set(){
		texture.loadFromFile("bullet.png");
		sprite.setTexture(texture);
	}
private:
	sf::Texture texture;
	sf::Sprite sprite;
	int b ;
};




#endif /* BULLET_H_ */
